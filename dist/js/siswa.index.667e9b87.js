"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[541],{3691:function(a,e,t){t.r(e),t.d(e,{default:function(){return x}});var s=t(3396),l=t(9242);const i={class:"login"},r={class:"container mt-5 mb-5 p-lg-5"},n={class:"row justify-content-center"},o={class:"col-md-5"},d={key:0,class:"alert alert-danger"},u={class:"card"},c={class:"card-body"},g=(0,s._)("span",{class:"display-6"},"Login",-1),p=(0,s._)("hr",null,null,-1),m={class:"form-group mb-3"},h=(0,s._)("label",{class:"form-label"},"Email",-1),f={key:0,class:"mt-2 alert alert-danger"},k={class:"form-group mb-3"},w=(0,s._)("label",{class:"form-label"},"Password",-1),v={key:0,class:"mt-2 alert alert-danger"},_=(0,s._)("button",{type:"submit",class:"btn btn-dark mt-3 float-end"},"Login",-1);function b(a,e,t,b,P,y){const D=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",i,[(0,s._)("div",r,[(0,s._)("div",n,[(0,s._)("div",o,[P.loginFailed?((0,s.wg)(),(0,s.iD)("div",d," Email atau Password Anda salah. ")):(0,s.kq)("",!0),(0,s._)("div",u,[(0,s._)("div",c,[g,p,(0,s._)("form",{onSubmit:e[2]||(e[2]=(0,l.iM)(((...a)=>y.login&&y.login(...a)),["prevent"]))},[(0,s._)("div",m,[h,(0,s.wy)((0,s._)("input",{type:"email",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=a=>P.user.email=a),placeholder:"Masukkan Email",required:""},null,512),[[l.nr,P.user.email]]),P.validation.email?((0,s.wg)(),(0,s.iD)("div",f," Masukkan Email ")):(0,s.kq)("",!0)]),(0,s._)("div",k,[w,(0,s.wy)((0,s._)("input",{type:"password",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=a=>P.user.password=a),placeholder:"Masukkan Password",required:""},null,512),[[l.nr,P.user.password]]),P.validation.password?((0,s.wg)(),(0,s.iD)("div",v," Masukkan Password ")):(0,s.kq)("",!0)]),(0,s.Uk)(" Belum punya akun?"),(0,s.Wm)(D,{to:{name:"register"},class:"btn btn-link"},{default:(0,s.w5)((()=>[(0,s.Uk)("Daftar")])),_:1}),_],32)])])])])])])}t(7658);var P=t(4311),y={name:"Login",data(){return{loggedIn:localStorage.getItem("loggedIn"),token:localStorage.getItem("token"),user:[],validation:[],loginFailed:null,role:localStorage.getItem("role")}},methods:{login(){this.user.email&&this.user.password&&P.Z.get("http://localhost:8000/sanctum/csrf-cookie").then((a=>{console.log(a),P.Z.post("http://localhost:8000/api/login",{email:this.user.email,password:this.user.password}).then((a=>{if(console.log(a),a.data.success)return localStorage.setItem("loggedIn","true"),localStorage.setItem("token",a.data.token),localStorage.setItem("role",a.data.user.role),this.loggedIn=!0,this.$router.push({name:"siswa.index"});this.loginFailed=!0})).catch((a=>{console.log(a)}))})),this.validation=[],this.user.email||(this.validation.email=!0),this.user.password||(this.validation.password=!0)}},mounted(){return this.loggedIn?this.$router.push({name:"siswa.index"}):this.$router.push({name:"login"})}},D=t(89);const U=(0,D.Z)(y,[["render",b]]);var x=U},4034:function(a,e,t){t.r(e),t.d(e,{default:function(){return Z}});var s=t(3396),l=t(9242);const i={class:"login"},r={class:"container mt-3 mb-3 p-lg-4"},n={class:"row justify-content-center"},o={class:"col-md-5"},d={class:"card"},u={class:"card-body"},c=(0,s._)("span",{class:"display-6"},"Daftar",-1),g=(0,s._)("hr",null,null,-1),p={class:"form-group mb-3"},m=(0,s._)("label",{class:"form-label"},"Nama Lengkap",-1),h={key:0,class:"mt-2 alert alert-danger"},f={class:"form-group mb-3"},k=(0,s._)("label",{class:"form-label"},"Email",-1),w={key:0,class:"mt-2 alert alert-danger"},v={class:"form-group mb-3"},_=(0,s._)("label",{class:"form-label"},"Password",-1),b={key:0,class:"mt-2 alert alert-danger"},P={class:"form-group mb-3"},y=(0,s._)("label",{class:"form-label"},"Konfirmasi Password",-1),D={key:0,class:"mt-2 alert alert-danger"},U={class:"form-group mb-3"},x=(0,s._)("label",{class:"form-label"},"Hak Akses",-1),A=(0,s._)("option",{value:"Admin"},"Admin",-1),q=(0,s._)("option",{value:"User"},"User",-1),I=[A,q],R={key:0,class:"mt-2 alert alert-danger"},S=(0,s._)("button",{type:"submit",class:"btn btn-dark mt-3 float-end"},"Daftar",-1);function E(a,e,t,A,q,E){const M=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",i,[(0,s._)("div",r,[(0,s._)("div",n,[(0,s._)("div",o,[(0,s._)("div",d,[(0,s._)("div",u,[c,g,(0,s._)("form",{onSubmit:e[5]||(e[5]=(0,l.iM)(((...a)=>A.store&&A.store(...a)),["prevent"]))},[(0,s._)("div",p,[m,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=a=>A.user.name=a),placeholder:"Masukkan Nama Lengkap",required:""},null,512),[[l.nr,A.user.name]]),A.validation.name?((0,s.wg)(),(0,s.iD)("div",h," Masukkan Nama Lengkap ")):(0,s.kq)("",!0)]),(0,s._)("div",f,[k,(0,s.wy)((0,s._)("input",{type:"email",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=a=>A.user.email=a),placeholder:"Masukkan Email",required:""},null,512),[[l.nr,A.user.email]]),A.validation.email?((0,s.wg)(),(0,s.iD)("div",w," Masukkan Email ")):(0,s.kq)("",!0)]),(0,s._)("div",v,[_,(0,s.wy)((0,s._)("input",{type:"password",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>A.user.password=a),placeholder:"Masukkan Password",required:""},null,512),[[l.nr,A.user.password]]),A.validation.password?((0,s.wg)(),(0,s.iD)("div",b," Masukkan Password ")):(0,s.kq)("",!0)]),(0,s._)("div",P,[y,(0,s.wy)((0,s._)("input",{type:"password",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=a=>A.user.confirm_password=a),placeholder:"Konfirmasi Password",required:""},null,512),[[l.nr,A.user.confirm_password]]),A.validation.password?((0,s.wg)(),(0,s.iD)("div",D," Masukkan Konfirmasi Password ")):(0,s.kq)("",!0)]),(0,s._)("div",U,[x,(0,s.wy)((0,s._)("select",{class:"form-select",required:"","onUpdate:modelValue":e[4]||(e[4]=a=>A.user.role=a)},I,512),[[l.bM,A.user.role]]),A.validation.role?((0,s.wg)(),(0,s.iD)("div",R," Pilih Hak Akses ")):(0,s.kq)("",!0)]),(0,s.Uk)(" Sudah punya akun?"),(0,s.Wm)(M,{to:{name:"login"},class:"btn btn-link"},{default:(0,s.w5)((()=>[(0,s.Uk)("Login")])),_:1}),S],32)])])])])])])}t(7658);var M=t(4870),C=t(678),B=t(4311),$={setup(){const a=(0,M.qj)({name:"",email:"",password:"",confirm_password:"",role:""}),e=(0,M.iH)([]),t=(0,C.tv)();function s(){let s=a.name,l=a.email,i=a.password,r=a.role;B.Z.post("http://localhost:8000/api/register",{name:s,email:l,password:i,role:r}).then((()=>{t.push({name:"login"})})).catch((a=>{e.value=a.response.data}))}return{user:a,validation:e,router:t,store:s}}},j=t(89);const z=(0,j.Z)($,[["render",E]]);var Z=z},6011:function(a,e,t){t.r(e),t.d(e,{default:function(){return z}});var s=t(3396),l=t(7139);const i={class:"container"},r={class:"row"},n={class:"col-md-12"},o={class:"card border-1 rounded shadow mt-5 mb-5"},d={class:"card-body"},u=(0,s._)("h4",null,"Data Siswa",-1),c=(0,s._)("hr",null,null,-1),g={class:"table table-striped mt-4 rounded"},p={class:"thead-dark"},m=(0,s._)("th",{scope:"col"},"Nama",-1),h=(0,s._)("th",{scope:"col"},"Alamat",-1),f=(0,s._)("th",{scope:"col"},"Kota",-1),k=(0,s._)("th",{scope:"col"},"Provinsi",-1),w=(0,s._)("th",{scope:"col"},"Email",-1),v={key:0,scope:"col",colspan:"2",class:"text-center"},_={key:0,class:"text-center"},b={key:1},P=["onClick"];function y(a,e,t,y,D,U){const x=(0,s.up)("router-link"),A=(0,s.up)("Bootstrap5Pagination");return(0,s.wg)(),(0,s.iD)("div",i,[(0,s._)("div",r,[(0,s._)("div",n,[(0,s._)("div",o,[(0,s._)("div",d,[u,c,"Admin"===D.role?((0,s.wg)(),(0,s.j4)(x,{key:0,to:{name:"siswa.create"},class:"btn btn-md btn-dark"},{default:(0,s.w5)((()=>[(0,s.Uk)("Tambah Siswa")])),_:1},8,["to"])):(0,s.kq)("",!0),(0,s._)("table",g,[(0,s._)("thead",p,[(0,s._)("tr",null,[m,h,f,k,w,"Admin"===D.role?((0,s.wg)(),(0,s.iD)("th",v,"Aksi")):(0,s.kq)("",!0)])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(D.siswas.data,((a,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:e},[(0,s._)("td",null,(0,l.zw)(a.nama),1),(0,s._)("td",null,(0,l.zw)(a.alamat),1),(0,s._)("td",null,(0,l.zw)(a.kota),1),(0,s._)("td",null,(0,l.zw)(a.provinsi),1),(0,s._)("td",null,(0,l.zw)(a.email),1),"Admin"===D.role?((0,s.wg)(),(0,s.iD)("td",_,[(0,s.Wm)(x,{to:{name:"siswa.edit",params:{id:a.id}},class:"btn btn-sm btn-secondary mr-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("Edit")])),_:2},1032,["to"])])):(0,s.kq)("",!0),"Admin"===D.role?((0,s.wg)(),(0,s.iD)("td",b,[(0,s._)("button",{onClick:e=>U.postDelete(a.id),class:"btn btn-sm btn-danger ml-1"}," Delete ",8,P)])):(0,s.kq)("",!0)])))),128))])]),(0,s.Wm)(A,{data:D.siswas,onPaginationChangePage:U.getSiswas},null,8,["data","onPaginationChangePage"])])])])])])}t(7658);var D=t(4311);const U={emits:["pagination-change-page"],props:{data:{type:Object,default:()=>{}},limit:{type:Number,default:0}},computed:{isApiResource(){return!!this.data.meta},currentPage(){return this.isApiResource?this.data.meta.current_page:this.data.current_page},firstPageUrl(){return this.isApiResource?this.data.links.first:null},from(){return this.isApiResource?this.data.meta.from:this.data.from},lastPage(){return this.isApiResource?this.data.meta.last_page:this.data.last_page},lastPageUrl(){return this.isApiResource?this.data.links.last:null},nextPageUrl(){return this.isApiResource?this.data.links.next:this.data.next_page_url},perPage(){return this.isApiResource?this.data.meta.per_page:this.data.per_page},prevPageUrl(){return this.isApiResource?this.data.links.prev:this.data.prev_page_url},to(){return this.isApiResource?this.data.meta.to:this.data.to},total(){return this.isApiResource?this.data.meta.total:this.data.total},pageRange(){if(-1===this.limit)return 0;if(0===this.limit)return this.lastPage;for(var a,e=this.currentPage,t=this.lastPage,s=this.limit,l=e-s,i=e+s+1,r=[],n=[],o=1;o<=t;o++)(1===o||o===t||o>=l&&o<i)&&r.push(o);return r.forEach((function(e){a&&(e-a===2?n.push(a+1):e-a!==1&&n.push("...")),n.push(e),a=e})),n}},methods:{previousPage(){this.selectPage(this.currentPage-1)},nextPage(){this.selectPage(this.currentPage+1)},selectPage(a){"..."!==a&&this.$emit("pagination-change-page",a)}},render(){return this.$slots.default({data:this.data,limit:this.limit,computed:{isApiResource:this.isApiResource,currentPage:this.currentPage,firstPageUrl:this.firstPageUrl,from:this.from,lastPage:this.lastPage,lastPageUrl:this.lastPageUrl,nextPageUrl:this.nextPageUrl,perPage:this.perPage,prevPageUrl:this.prevPageUrl,to:this.to,total:this.total,pageRange:this.pageRange},prevButtonEvents:{click:a=>{a.preventDefault(),this.previousPage()}},nextButtonEvents:{click:a=>{a.preventDefault(),this.nextPage()}},pageButtonEvents:a=>({click:e=>{e.preventDefault(),this.selectPage(a)}})})}},x=(a,e)=>{const t=a.__vccOpts||a;for(const[s,l]of e)t[s]=l;return t};Boolean;const A={compatConfig:{MODE:3},inheritAttrs:!1,emits:["pagination-change-page"],components:{RenderlessPagination:U},props:{data:{type:Object,default:()=>{}},limit:{type:Number,default:0},showDisabled:{type:Boolean,default:!1},size:{type:String,default:"default",validator:a=>-1!==["small","default","large"].indexOf(a)},align:{type:String,default:"left",validator:a=>-1!==["left","center","right"].indexOf(a)}},methods:{onPaginationChangePage(a){this.$emit("pagination-change-page",a)}}},q=["tabindex"],I=(0,s._)("span",{"aria-hidden":"true"},"«",-1),R=["aria-current"],S=["tabindex"],E=(0,s._)("span",{"aria-hidden":"true"},"»",-1);function M(a,e,t,i,r,n){const o=(0,s.up)("RenderlessPagination");return(0,s.wg)(),(0,s.j4)(o,{data:t.data,limit:t.limit,onPaginationChangePage:n.onPaginationChangePage},{default:(0,s.w5)((e=>[e.computed.total>e.computed.perPage?((0,s.wg)(),(0,s.iD)("ul",(0,s.dG)({key:0},a.$attrs,{class:["pagination",{"pagination-sm":"small"==t.size,"pagination-lg":"large"==t.size,"justify-content-center":"center"==t.align,"justify-content-end":"right"==t.align}]}),[e.computed.prevPageUrl||t.showDisabled?((0,s.wg)(),(0,s.iD)("li",{key:0,class:(0,l.C_)(["page-item pagination-prev-nav",{disabled:!e.computed.prevPageUrl}])},[(0,s._)("a",(0,s.dG)({class:"page-link",href:"#","aria-label":"Previous",tabindex:!e.computed.prevPageUrl&&-1},(0,s.mx)(e.prevButtonEvents,!0)),[(0,s.WI)(a.$slots,"prev-nav",{},(()=>[I]))],16,q)],2)):(0,s.kq)("",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.computed.pageRange,((a,t)=>((0,s.wg)(),(0,s.iD)("li",{class:(0,l.C_)(["page-item pagination-page-nav",{active:a==e.computed.currentPage}]),key:t},[(0,s._)("a",(0,s.dG)({class:"page-link",href:"#"},(0,s.mx)(e.pageButtonEvents(a),!0),{"aria-current":a==e.computed.currentPage?"page":null}),(0,l.zw)(a),17,R)],2)))),128)),e.computed.nextPageUrl||t.showDisabled?((0,s.wg)(),(0,s.iD)("li",{key:1,class:(0,l.C_)(["page-item pagination-next-nav",{disabled:!e.computed.nextPageUrl}])},[(0,s._)("a",(0,s.dG)({class:"page-link",href:"#","aria-label":"Next",tabindex:!e.computed.nextPageUrl&&-1},(0,s.mx)(e.nextButtonEvents,!0)),[(0,s.WI)(a.$slots,"next-nav",{},(()=>[E]))],16,S)],2)):(0,s.kq)("",!0)],16)):(0,s.kq)("",!0)])),_:3},8,["data","limit","onPaginationChangePage"])}const C=x(A,[["render",M]]);var B={components:{Bootstrap5Pagination:C},data(){return{siswas:{},role:null,loggedIn:null}},mounted(){if(this.loggedIn=localStorage.getItem("loggedIn"),!this.loggedIn)return this.$router.push({name:"login"});this.getSiswas(),this.role=localStorage.getItem("role")},methods:{getSiswas(a){D.Z.get("http://localhost:8000/api/siswa?page="+a).then((a=>{this.siswas=a.data.data}))},postDelete(a){D.Z["delete"](`http://localhost:8000/api/siswa/${a}`).then((()=>{this.getSiswas()})).catch((a=>{console.log(a.response.data)}))}}},$=t(89);const j=(0,$.Z)(B,[["render",y]]);var z=j}}]);
//# sourceMappingURL=siswa.index.667e9b87.js.map